<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .dark{
            background-color: black;
            color: white;
        }
    </style>
    
</head>
<body>
    
    <div>
        <h1 style= "display: flex; justify-content: center; align-items: center; height: 50vh;">TO DO LIST</h1>
    </div>
    <div style="display: flex; justify-content: center; align-items: center;">
        <input class="data" placeholder="write your todos....."> 
        <input class="user" placeholder="write your name....."> 
     <button class="addtodo" style=" background-color: grey; border: gray; height: 20px "> Add</button>
     <div id="todo">

     </div>
     
    </div>
     
    <script>
//   creating dark mode
  const button = document.createElement('button')
  button.innerHTML = "dark"
  document.body.appendChild(button)

  button.setAttribute("style" ,"background:grey; border:grey; height: 20px")

  button.addEventListener('click',function(){
    document.body.classList.toggle('dark')
})



 ///input se data lo(create data base)
    let map = new Map()

    document.querySelector('.addtodo').addEventListener('click',function(){
        const data = document.querySelector('.data').value
        const user = document.querySelector('.user').value

        if(!map.has(user)){
            map.set(user,new Array())
            map.get(user).push(data)
        } else{
             map.get(user).push(data)
        }
      render()
        
    })

   //cretae function for taking key , value
   function createfunction(key,value){
    const div = document.createElement('div')
    const span = document.createElement('span')
    const button = document.createElement('button')
    button.innerHTML = "delete"
    span.innerHTML =  ` user ${key} todos ${value}`
    button.setAttribute('onclick',`deleteTodo('${key}')`)
    div.appendChild(span)
    div.appendChild(button)
    return div
   }

   //delete todos
   function deleteTodo(key){
     map.delete(key)
     render()
   }


    //showing data on screen
    function render(){
     const todo = document.querySelector('#todo')
     todo.innerHTML = ""
     for (const [key,value] of map){
        const create = createfunction(key,value)     //user ka name or user ka data
        todo.appendChild(create)
     }
     document.body.appendChild(todo)

    }

    </script>
</body>
</html>